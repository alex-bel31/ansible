# Ansible Playbook: ClickHouse –∏ Vector

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π Ansible-–ø–ª–µ–π–±—É–∫ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- [ClickHouse](https://clickhouse.com) ‚Äî –∫–æ–ª–æ–Ω–æ—á–Ω–∞—è –°–£–ë–î;
- [Vector](https://vector.dev) ‚Äî –ª–æ–≥-—Å–±–æ—Ä—â–∏–∫, –∫–æ–Ω–≤–µ–π–µ—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç–∏.

–ü–ª–µ–π–±—É–∫ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ —Ö–æ—Å—Ç–∞—Ö —Å –≥—Ä—É–ø–ø–æ–π `clickhouse` –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ `.deb`-–ø–∞–∫–µ—Ç—ã ClickHouse.
- –ó–∞–ø—É—Å–∫–∞–µ—Ç ClickHouse-—Å–µ—Ä–≤–µ—Ä –∏ —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `logs`.
- –°–∫–∞—á–∏–≤–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Vector, —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—è –∞—Ä—Ö–∏–≤ –≤—Ä—É—á–Ω—É—é.
- –°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª Vector –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ Jinja2.
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç systemd-—Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –æ–±–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

–ü–ª–µ–π–±—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è              | –û–ø–∏—Å–∞–Ω–∏–µ                                         | –ü—Ä–∏–º–µ—Ä                                   |
|------------------------|--------------------------------------------------|------------------------------------------|
| `clickhouse_version`   | –í–µ—Ä—Å–∏—è ClickHouse –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏                  | `22.7.7.24`                               |
| `clickhouse_packages`  | –°–ø–∏—Å–æ–∫ .deb-–ø–∞–∫–µ—Ç–æ–≤ ClickHouse                   | `["clickhouse-common-static", "clickhouse-client", "clickhouse-server"]` |
| `vector_url`           | URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ Vector           | `https://packages.timber.io/vector/0.30.0/vector-x86_64-unknown-linux-gnu.tar.gz` |
| `vector_install_dir`   | –ü—É—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Vector                            | `/opt/vector`                             |
| `vector_config_path`   | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Vector                 | `/etc/vector/vector.toml`                 |

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ `group_vars`, `host_vars` –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ `-e`.